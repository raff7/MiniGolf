(function(){define(["external/react","external/underscore","modules/clean/flux/dispatcher","modules/clean/react/browse/constants","modules/clean/react/modal","modules/clean/sharing/content_info","modules/clean/sharing/share_modal","modules/clean/user"],function(e,n,r,a,o,t,s,i){var l,c,u,h,d,p,S;return d=a.SharedWithActionTypes,c=o.Modal,l=t.ContentInfo,u=s.ShareModal,S=s.show,p=e.createElement,h=e.createClass({displayName:"ShareModalLegacyShim",propTypes:{user:e.PropTypes.instanceOf(i).isRequired},render:function(){var e;return e={onLinkSettingsClick:this._handleLinkSettingsClick,onCantShareContent:this._handleCantShareContent,showLegacyShareModal:this._showLegacyShareModal},n.extend(e,n.omit(this.props,n.keys(e))),p(u,e)},_handleLinkSettingsClick:function(e){return require(["dropbox"],function(n){return function(r){var a;return a=r.SharedLinkSettingsModal,new a(n.props.user.id,null,n._makeReopenCallback(),e.url,!0).show(),c.close()}}(this))},_handleCantShareContent:function(e,n){return require(["dropbox"],function(r){var a,o;return a=r.Browse,o=r.SharingShmodel,null==a.active_user&&(a.active_user=e),o.shmodel(n,"browse_file_row"),c.close()})},_showLegacyShareModal:function(e,n){return require(["dropbox"],function(r){var a;return a=r.SharingModals,n.isFileFolder()?a.show_share_existing_modal(n.displayPath(),e):a.show_shared_folder_options_modal(n.displayPath(),e),c.close()})},_makeReopenCallback:function(){return function(e){return function(){return e.initialState=null,c.showInstance(p(h,e))}}(this.props)}}),{ShareModalLegacyShim:h}})}).call(this);